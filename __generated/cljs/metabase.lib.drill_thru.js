var window=global;var $CLJS=require("./cljs_env.js");require("./cljs.core.js");require("./metabase.lib.drill_thru.automatic_insights.js");require("./metabase.lib.drill_thru.column_filter.js");require("./metabase.lib.drill_thru.common.js");require("./metabase.lib.drill_thru.distribution.js");require("./metabase.lib.drill_thru.fk_details.js");require("./metabase.lib.drill_thru.fk_filter.js");require("./metabase.lib.drill_thru.object_details.js");require("./metabase.lib.drill_thru.pivot.js");require("./metabase.lib.drill_thru.pk.js");require("./metabase.lib.drill_thru.quick_filter.js");require("./metabase.lib.drill_thru.sort.js");require("./metabase.lib.drill_thru.summarize_column.js");require("./metabase.lib.drill_thru.summarize_column_by_time.js");require("./metabase.lib.drill_thru.underlying_records.js");require("./metabase.lib.drill_thru.zoom.js");require("./metabase.lib.drill_thru.zoom_in_bins.js");require("./metabase.lib.drill_thru.zoom_in_geographic.js");require("./metabase.lib.drill_thru.zoom_in_timeseries.js");require("./metabase.lib.metadata.js");require("./metabase.lib.metadata.calculation.js");require("./metabase.lib.schema.js");require("./metabase.lib.schema.drill_thru.js");require("./metabase.util.js");require("./metabase.util.log.js");require("./metabase.util.malli.js");
'use strict';var sta,K7,L7,M7,O7,P7,Q7,tta,R7,uta,vta,S7,T7,wta,U7,V7,xta,W7,yta,zta,X7,Y7,Z7,$7,Ata,a8,Bta,Cta,Dta,Eta,b8,Fta,Gta,c8,Hta,Ita,Jta,Kta,Lta,d8,Mta,Nta,Ota,Pta,Qta,Rta,Sta,e8,Tta,Uta,Vta,Wta,Xta,Yta,Zta,$ta,aua,bua,cua,dua,eua,fua,gua,hua,iua,f8,g8,jua,kua,lua,h8,mua,nua,oua,pua,i8,qua,rua,sua,j8,tua,uua,vua,wua,xua;$CLJS.J7=function(a){return $CLJS.hc($CLJS.fb(function(b,c){return $CLJS.jg.j(b,c,$CLJS.J.j(b,c,0)+1)},$CLJS.ec($CLJS.N),a))};
sta=function(a){var b=$CLJS.DV(a,0),c=$CLJS.O(b),d=$CLJS.J.g(c,$CLJS.cO),e=$CLJS.J.g(c,$CLJS.MU);return $CLJS.Fd(function(){var f=$CLJS.P0(a);if($CLJS.n(f)){f=$CLJS.n(d)?$CLJS.YZ(a,d):d;if($CLJS.n(f))return f;f=$CLJS.n(e)?$CLJS.$Z(a,e):e;return $CLJS.n(f)?f:$CLJS.E.g($CLJS.Us.h(c),$CLJS.$U)}return f}())};K7=function(a){var b=$CLJS.SZ(a);return $CLJS.n(b)?$CLJS.nf($CLJS.FZ,$CLJS.ZZ(a,b)):$CLJS.Ef};
L7=function(a,b,c){c=$CLJS.O(c);var d=$CLJS.J.g(c,$CLJS.Ni),e=$CLJS.J.g(c,$CLJS.C5),f=$CLJS.J.g(c,$CLJS.FK),k=$CLJS.J.g(c,$CLJS.nj);return $CLJS.n(function(){var l=$CLJS.t5(a,b);return l?(l=$CLJS.Ie(f),$CLJS.n(l)?(l=$CLJS.n(d)?null!=k:d,l=$CLJS.n(l)?l:null==d&&null==k,$CLJS.n(l)?$CLJS.Wa($CLJS.n(d)?$CLJS.GZ(d):d):l):l):l}())?new $CLJS.h(null,6,[$CLJS.Us,$CLJS.LK,$CLJS.aj,$CLJS.t6,$CLJS.n6,"number"!==typeof k||0>k?2:k,$CLJS.MY,function(){var l=null==a?null:$CLJS.SZ(a);l=null==l?null:$CLJS.YZ(a,l);
$CLJS.n(l)||(l=null==a?null:$CLJS.n1(a),l=null==l?null:$CLJS.$Z(a,l));return $CLJS.n(l)?$CLJS.e_.j(a,b,l):null}(),$CLJS.FK,f,$CLJS.C5,e],null):null};
M7=function(a,b,c){c=$CLJS.O(c);var d=$CLJS.J.g(c,$CLJS.Ni),e=$CLJS.J.g(c,$CLJS.C5),f=$CLJS.J.g(c,$CLJS.FK),k=$CLJS.J.g(c,$CLJS.nj);return $CLJS.n(function(){var l=$CLJS.t5(a,b);return l?(l=$CLJS.Wa(d)||null!=k)?(l=$CLJS.e7(a,$CLJS.Ysa),$CLJS.n(l)?$CLJS.Ie(f):l):l:l}())?new $CLJS.h(null,4,[$CLJS.Us,$CLJS.LK,$CLJS.aj,$CLJS.Y5,$CLJS.C5,e,$CLJS.FK,f],null):null};$CLJS.N7=function(a){return $CLJS.kk.v(a,$CLJS.oK,$CLJS.de,new $CLJS.h(null,1,[$CLJS.Us,$CLJS.TU],null))};
O7=function(a,b,c){var d=$CLJS.V1(a,$CLJS.CV(a,b)),e=$CLJS.gk.g($CLJS.IJ.h(c),$CLJS.hK)?new $CLJS.h(null,2,[$CLJS.HE,a,$CLJS.CK,b],null):$CLJS.n(d)?new $CLJS.h(null,2,[$CLJS.HE,a,$CLJS.CK,d],null):new $CLJS.h(null,2,[$CLJS.HE,$CLJS.N7(a),$CLJS.CK,-1],null),f=$CLJS.R2.g($CLJS.HE.h(e),$CLJS.CK.h(e));a=function(){var k=$CLJS.x1.v($CLJS.HE.h(e),$CLJS.CK.h(e),$CLJS.oV(c),f);if($CLJS.n(k))return k;k=$CLJS.t0.h(c);return $CLJS.n(k)?$CLJS.rG(function(l){return $CLJS.E.g($CLJS.t0.h(l),$CLJS.t0.h(c))},f):k}();
return $CLJS.T.j(e,$CLJS.Ni,a)};P7=function(a,b,c){var d=$CLJS.O(c);c=$CLJS.J.g(d,$CLJS.Ni);d=$CLJS.J.g(d,$CLJS.nj);var e=$CLJS.t5(a,b);d=e?$CLJS.n(c)?null==d&&!$CLJS.GZ(c):c:e;return $CLJS.n(d)?(d=$CLJS.yZ(c)?null:$CLJS.T.j($CLJS.z($CLJS.g2(c)),$CLJS.Us,$CLJS.LI),$CLJS.zk.l($CLJS.H([new $CLJS.h(null,3,[$CLJS.Us,$CLJS.LK,$CLJS.aj,$CLJS.S5,$CLJS.Q5,d],null),O7(a,b,c)]))):null};
Q7=function(a,b,c){var d=$CLJS.O(c);c=$CLJS.J.g(d,$CLJS.Ni);d=$CLJS.J.g(d,$CLJS.nj);var e=$CLJS.t5(a,b);a=e?$CLJS.n(c)?null==d&&$CLJS.gk.g($CLJS.IJ.h(c),$CLJS.hK)&&!$CLJS.FZ(c)&&!$CLJS.GZ(c)&&!$CLJS.PZ(c)&&!$CLJS.DZ(c)&&$CLJS.Wa($CLJS.y($CLJS.r5.j(a,b,c))):c:e;return $CLJS.n(a)?new $CLJS.h(null,3,[$CLJS.Us,$CLJS.LK,$CLJS.aj,$CLJS.r6,$CLJS.Ni,c],null):null};
tta=function(a,b,c){c=$CLJS.O(c);b=$CLJS.J.g(c,$CLJS.Ni);c=$CLJS.J.g(c,$CLJS.nj);return $CLJS.EZ(b)&&null!=c&&$CLJS.gk.g(c,$CLJS.KK)?new $CLJS.h(null,5,[$CLJS.Us,$CLJS.LK,$CLJS.aj,$CLJS.q6,$CLJS.Ni,b,$CLJS.yK,c,$CLJS.xK,1<$CLJS.D(K7(a))],null):null};
R7=function(a,b,c){var d=$CLJS.O(c);c=$CLJS.J.g(d,$CLJS.Ni);d=$CLJS.J.g(d,$CLJS.nj);if($CLJS.n($CLJS.n(c)?null!=d&&$CLJS.gk.g(d,$CLJS.KK)&&$CLJS.t5(a,b)&&!$CLJS.FZ(c)&&$CLJS.EZ(c):c)){var e=null==a?null:$CLJS.SZ(a);e=null==e?null:$CLJS.YZ(a,e);$CLJS.n(e)||(e=null==a?null:$CLJS.n1(a),e=null==e?null:$CLJS.$Z(a,e));return new $CLJS.h(null,5,[$CLJS.Us,$CLJS.LK,$CLJS.aj,$CLJS.W5,$CLJS.PE,$CLJS.nV(new $CLJS.Q(null,4,5,$CLJS.R,[$CLJS.Nj,$CLJS.N,$CLJS.oV(c),d],null)),$CLJS.WE,$CLJS.e_.v(a,b,c,$CLJS.f_),$CLJS.MY,
$CLJS.e_.j(a,0,e)],null)}return null};
uta=function(a,b,c){var d=$CLJS.O(c),e=$CLJS.J.g(d,$CLJS.Ni),f=$CLJS.J.g(d,$CLJS.nj),k=$CLJS.J.g(d,$CLJS.B5);if(null!=f&&$CLJS.t5(a,b)&&1<$CLJS.D(K7(a))&&!$CLJS.EZ(e)){if($CLJS.FZ(e))return null!=f&&$CLJS.gk.g(f,$CLJS.KK)?new $CLJS.h(null,3,[$CLJS.Us,$CLJS.LK,$CLJS.aj,$CLJS.f6,$CLJS.FK,new $CLJS.Q(null,1,5,$CLJS.R,[new $CLJS.h(null,2,[$CLJS.Ni,e,$CLJS.nj,f],null)],null)],null):null;var l=K7(a);a=function(){return function u(t){return new $CLJS.pe(null,function(){for(var v=t;;){var x=$CLJS.y(v);if(x){var A=
x;if($CLJS.Bd(A)){var C=$CLJS.mc(A),G=$CLJS.D(C),K=$CLJS.se(G);return function(){for(var ba=0;;)if(ba<G){var ha=$CLJS.ld(C,ba),ua=$CLJS.nj.h($CLJS.rG(function(Ua,Db,Qa){return function(Xa){return $CLJS.E.g($CLJS.U.h($CLJS.Ni.h(Xa)),$CLJS.U.h(Qa))}}(ba,v,ha,C,G,K,A,x,l,c,d,d,e,f,k),k));$CLJS.n(ua)&&$CLJS.we(K,new $CLJS.h(null,2,[$CLJS.Ni,ha,$CLJS.nj,ua],null));ba+=1}else return!0}()?$CLJS.ve($CLJS.xe(K),u($CLJS.nc(A))):$CLJS.ve($CLJS.xe(K),null)}var S=$CLJS.z(A),X=$CLJS.nj.h($CLJS.rG(function(ba,ha){return function(ua){return $CLJS.E.g($CLJS.U.h($CLJS.Ni.h(ua)),
$CLJS.U.h(ha))}}(v,S,A,x,l,c,d,d,e,f,k),k));if($CLJS.n(X))return $CLJS.ge(new $CLJS.h(null,2,[$CLJS.Ni,S,$CLJS.nj,X],null),u($CLJS.Mc(A)));v=$CLJS.Mc(A)}else return null}},null,null)}(l)}();return $CLJS.y(a)?new $CLJS.h(null,3,[$CLJS.Us,$CLJS.LK,$CLJS.aj,$CLJS.f6,$CLJS.FK,$CLJS.Ff($CLJS.U0(function(m){return $CLJS.wz(m,new $CLJS.Q(null,2,5,$CLJS.R,[$CLJS.Ni,$CLJS.Si],null))},a))],null):null}return null};
vta=function(a,b,c){var d=$CLJS.O(c);b=$CLJS.J.g(d,$CLJS.Ni);c=$CLJS.J.g(d,$CLJS.nj);d=$CLJS.J.g(d,$CLJS.B5);if(null==c||1<$CLJS.D(K7(a)))return null;if($CLJS.FZ(b))return $CLJS.E.g(c,$CLJS.KK)?null:new $CLJS.h(null,5,[$CLJS.Us,$CLJS.LK,$CLJS.aj,$CLJS.I6,$CLJS.Ni,b,$CLJS.yK,c,$CLJS.xK,!1],null);a=K7(a);var e=$CLJS.I(a,0,null);a=$CLJS.nj.h($CLJS.rG(function(f){return $CLJS.E.g($CLJS.U.h($CLJS.Ni.h(f)),$CLJS.U.h(e))},d));return $CLJS.n(a)?new $CLJS.h(null,5,[$CLJS.Us,$CLJS.LK,$CLJS.aj,$CLJS.I6,$CLJS.Ni,
e,$CLJS.yK,a,$CLJS.xK,!1],null):null};S7=function(a,b,c){return $CLJS.Ue(function(d){return d.j?d.j(a,b,c):d.call(null,a,b,c)},new $CLJS.Q(null,3,5,$CLJS.R,[tta,uta,vta],null))};T7=function(a,b,c,d){var e=$CLJS.O(c);c=$CLJS.J.g(e,$CLJS.Ni);e=$CLJS.J.g(e,$CLJS.nj);var f=$CLJS.t5(a,b);c=f?$CLJS.n(c)?null!=e&&$CLJS.E.g($CLJS.IJ.h(c),$CLJS.hK):c:f;return $CLJS.n(c)?$CLJS.nf(d,$CLJS.q5.g(a,b)):null};
wta=function(a,b){var c=$CLJS.J7($CLJS.kf.g(function(d){d=$CLJS.c_.j(a,b,d);return $CLJS.yZ(d)?$CLJS.zO:$CLJS.IZ(d)?$CLJS.r7:$CLJS.CZ(d)?$CLJS.DF:null},$CLJS.o5.g(a,b)));return $CLJS.E.g(new $CLJS.h(null,1,[$CLJS.zO,1],null),c)?new $CLJS.ch(null,new $CLJS.h(null,2,[$CLJS.DF,null,$CLJS.M5,null],null),null):$CLJS.E.g(new $CLJS.h(null,2,[$CLJS.zO,1,$CLJS.DF,1],null),c)?new $CLJS.ch(null,new $CLJS.h(null,2,[$CLJS.DF,null,$CLJS.M5,null],null),null):$CLJS.E.g(new $CLJS.h(null,1,[$CLJS.r7,1],null),c)?new $CLJS.ch(null,
new $CLJS.h(null,2,[$CLJS.DF,null,$CLJS.Ax,null],null),null):$CLJS.E.g($CLJS.N,c)?new $CLJS.ch(null,new $CLJS.h(null,3,[$CLJS.DF,null,$CLJS.Ax,null,$CLJS.M5,null],null),null):$CLJS.E.g(new $CLJS.h(null,1,[$CLJS.DF,1],null),c)?new $CLJS.ch(null,new $CLJS.h(null,2,[$CLJS.DF,null,$CLJS.Ax,null],null),null):$CLJS.E.g(new $CLJS.h(null,1,[$CLJS.DF,2],null),c)?new $CLJS.ch(null,new $CLJS.h(null,2,[$CLJS.DF,null,$CLJS.Ax,null],null),null):$CLJS.dh};
U7=function(a,b,c){var d=$CLJS.O(c),e=$CLJS.J.g(d,$CLJS.Ni);c=$CLJS.J.g(d,$CLJS.FK);var f=$CLJS.J.g(d,$CLJS.nj);if($CLJS.n(function(){var m=$CLJS.t5(a,b);return m?$CLJS.n(e)?null!=f&&$CLJS.E.g($CLJS.IJ.h(e),$CLJS.hK)&&0<$CLJS.D($CLJS.V3.g(a,b)):e:m}())){var k=wta(a,b),l=$CLJS.gg.g($CLJS.N,function(){return function u(t){return new $CLJS.pe(null,function(){for(var v=t;;)if(v=$CLJS.y(v)){if($CLJS.Bd(v)){var x=$CLJS.mc(v),A=$CLJS.D(x),C=$CLJS.se(A);a:for(var G=0;;)if(G<A){var K=$CLJS.ld(x,G),S=$CLJS.J.g($CLJS.s7,
K);S=T7(a,b,d,S);$CLJS.n($CLJS.Ie(S))&&C.add(new $CLJS.Q(null,2,5,$CLJS.R,[K,S],null));G+=1}else{x=!0;break a}return x?$CLJS.ve($CLJS.xe(C),u($CLJS.nc(v))):$CLJS.ve($CLJS.xe(C),null)}C=$CLJS.z(v);x=$CLJS.J.g($CLJS.s7,C);x=T7(a,b,d,x);if($CLJS.n($CLJS.Ie(x)))return $CLJS.ge(new $CLJS.Q(null,2,5,$CLJS.R,[C,x],null),u($CLJS.Mc(v)));v=$CLJS.Mc(v)}else return null},null,null)}(k)}());return $CLJS.ud(l)?null:new $CLJS.h(null,4,[$CLJS.Us,$CLJS.LK,$CLJS.aj,$CLJS.A6,$CLJS.FK,c,$CLJS.I5,l],null)}return null};
V7=function(a,b){return $CLJS.nV($CLJS.gg.g(new $CLJS.Q(null,2,5,$CLJS.R,[a,$CLJS.N],null),b))};
xta=function(a,b){var c=$CLJS.oV(a);if($CLJS.GZ(a))return $CLJS.Ef;if($CLJS.E.g(b,$CLJS.KK))return new $CLJS.Q(null,2,5,$CLJS.R,[new $CLJS.h(null,2,[$CLJS.U,"\x3d",$CLJS.PE,V7($CLJS.ME,$CLJS.H([c]))],null),new $CLJS.h(null,2,[$CLJS.U,"≠",$CLJS.PE,V7($CLJS.YE,$CLJS.H([c]))],null)],null);if($CLJS.zZ(a)||$CLJS.yZ(a))return a=function f(e){return new $CLJS.pe(null,function(){for(;;){var k=$CLJS.y(e);if(k){if($CLJS.Bd(k)){var l=$CLJS.mc(k),m=$CLJS.D(l),t=$CLJS.se(m);a:for(var u=0;;)if(u<m){var v=$CLJS.ld(l,
u),x=$CLJS.I(v,0,null);v=$CLJS.I(v,1,null);x=new $CLJS.h(null,2,[$CLJS.U,v,$CLJS.PE,V7(x,$CLJS.H([c,b]))],null);t.add(x);u+=1}else{l=!0;break a}return l?$CLJS.ve($CLJS.xe(t),f($CLJS.nc(k))):$CLJS.ve($CLJS.xe(t),null)}l=$CLJS.z(k);t=$CLJS.I(l,0,null);l=$CLJS.I(l,1,null);return $CLJS.ge(new $CLJS.h(null,2,[$CLJS.U,l,$CLJS.PE,V7(t,$CLJS.H([c,b]))],null),f($CLJS.Mc(k)))}return null}},null,null)},a(new $CLJS.Q(null,4,5,$CLJS.R,[new $CLJS.Q(null,2,5,$CLJS.R,[$CLJS.Gq,"\x3c"],null),new $CLJS.Q(null,2,5,
$CLJS.R,[$CLJS.Cq,"\x3e"],null),new $CLJS.Q(null,2,5,$CLJS.R,[$CLJS.Nj,"\x3d"],null),new $CLJS.Q(null,2,5,$CLJS.R,[$CLJS.BF,"≠"],null)],null));if($CLJS.AZ(a))return a=function f(e){return new $CLJS.pe(null,function(){for(;;){var k=$CLJS.y(e);if(k){if($CLJS.Bd(k)){var l=$CLJS.mc(k),m=$CLJS.D(l),t=$CLJS.se(m);a:for(var u=0;;)if(u<m){var v=$CLJS.ld(l,u),x=$CLJS.I(v,0,null);v=$CLJS.I(v,1,null);x=new $CLJS.h(null,2,[$CLJS.U,v,$CLJS.PE,V7(x,$CLJS.H([c,b]))],null);t.add(x);u+=1}else{l=!0;break a}return l?
$CLJS.ve($CLJS.xe(t),f($CLJS.nc(k))):$CLJS.ve($CLJS.xe(t),null)}l=$CLJS.z(k);t=$CLJS.I(l,0,null);l=$CLJS.I(l,1,null);return $CLJS.ge(new $CLJS.h(null,2,[$CLJS.U,l,$CLJS.PE,V7(t,$CLJS.H([c,b]))],null),f($CLJS.Mc(k)))}return null}},null,null)},a(new $CLJS.Q(null,4,5,$CLJS.R,[new $CLJS.Q(null,2,5,$CLJS.R,[$CLJS.Nj,"\x3d"],null),new $CLJS.Q(null,2,5,$CLJS.R,[$CLJS.BF,"≠"],null),new $CLJS.Q(null,2,5,$CLJS.R,[$CLJS.kF,"contains"],null),new $CLJS.Q(null,2,5,$CLJS.R,[$CLJS.dF,"does-not-contain"],null)],null));
a=function f(e){return new $CLJS.pe(null,function(){for(;;){var k=$CLJS.y(e);if(k){if($CLJS.Bd(k)){var l=$CLJS.mc(k),m=$CLJS.D(l),t=$CLJS.se(m);a:for(var u=0;;)if(u<m){var v=$CLJS.ld(l,u),x=$CLJS.I(v,0,null);v=$CLJS.I(v,1,null);x=new $CLJS.h(null,2,[$CLJS.U,v,$CLJS.PE,V7(x,$CLJS.H([c,b]))],null);t.add(x);u+=1}else{l=!0;break a}return l?$CLJS.ve($CLJS.xe(t),f($CLJS.nc(k))):$CLJS.ve($CLJS.xe(t),null)}l=$CLJS.z(k);t=$CLJS.I(l,0,null);l=$CLJS.I(l,1,null);return $CLJS.ge(new $CLJS.h(null,2,[$CLJS.U,l,
$CLJS.PE,V7(t,$CLJS.H([c,b]))],null),f($CLJS.Mc(k)))}return null}},null,null)};return a(new $CLJS.Q(null,2,5,$CLJS.R,[new $CLJS.Q(null,2,5,$CLJS.R,[$CLJS.Nj,"\x3d"],null),new $CLJS.Q(null,2,5,$CLJS.R,[$CLJS.BF,"≠"],null)],null))};
W7=function(a,b,c){var d=$CLJS.O(c);c=$CLJS.J.g(d,$CLJS.Ni);d=$CLJS.J.g(d,$CLJS.nj);var e=(e=$CLJS.t5(a,b))?$CLJS.n(c)?null!=d&&!$CLJS.FZ(c)&&!$CLJS.EZ(c):c:e;return $CLJS.n(e)?(a=O7(a,b,c),$CLJS.zk.l($CLJS.H([new $CLJS.h(null,4,[$CLJS.Us,$CLJS.LK,$CLJS.aj,$CLJS.A5,$CLJS.AK,xta($CLJS.Ni.h(a),d),$CLJS.nj,d],null),a]))):null};yta=function(a,b,c){return $CLJS.x1.v(a,b,$CLJS.oV(c),$CLJS.y7.g(a,b))};
zta=function(a,b,c){a=$CLJS.A7(a,b,c);return $CLJS.n(a)?(b=$CLJS.I(a,0,null),$CLJS.I(a,1,null),$CLJS.I(a,2,null),b):null};
X7=function(a,b,c){c=$CLJS.O(c);var d=$CLJS.J.g(c,$CLJS.Ni),e=$CLJS.J.g(c,$CLJS.nj);if($CLJS.n(function(){var k=$CLJS.t5(a,b);return k?$CLJS.n(d)?null==e&&!$CLJS.GZ(d):d:k}())&&$CLJS.n(yta(a,b,d))){var f=zta(a,b,d);return new $CLJS.h(null,4,[$CLJS.Us,$CLJS.LK,$CLJS.aj,$CLJS.b6,$CLJS.Ni,d,$CLJS.e6,function(){switch(f instanceof $CLJS.M?f.S:null){case "asc":return new $CLJS.Q(null,1,5,$CLJS.R,[$CLJS.bF],null);case "desc":return new $CLJS.Q(null,1,5,$CLJS.R,[$CLJS.iF],null);default:return new $CLJS.Q(null,
2,5,$CLJS.R,[$CLJS.iF,$CLJS.bF],null)}}()],null)}return null};
Y7=function(a,b,c){var d=$CLJS.O(c);c=$CLJS.J.g(d,$CLJS.Ni);d=$CLJS.J.g(d,$CLJS.nj);var e=$CLJS.t5(a,b);a=e?$CLJS.n(c)?null==d&&!$CLJS.GZ(c)&&$CLJS.gk.g($CLJS.IJ.h(c),$CLJS.hK)&&$CLJS.Wa($CLJS.y($CLJS.r5.j(a,b,c))):c:e;return $CLJS.n(a)?(a=$CLJS.jf.g(new $CLJS.Q(null,1,5,$CLJS.R,[$CLJS.QE],null),$CLJS.BZ(c)?new $CLJS.Q(null,2,5,$CLJS.R,[$CLJS.xF,$CLJS.fF],null):null),new $CLJS.h(null,4,[$CLJS.Us,$CLJS.LK,$CLJS.aj,$CLJS.c6,$CLJS.Ni,c,$CLJS.h6,a],null)):null};
Z7=function(a,b,c){var d=$CLJS.O(c);c=$CLJS.J.g(d,$CLJS.Ni);d=$CLJS.J.g(d,$CLJS.nj);var e=$CLJS.t5(a,b);d=e?$CLJS.n(c)?null==d&&!$CLJS.GZ(c)&&$CLJS.BZ(c)&&$CLJS.gk.g($CLJS.IJ.h(c),$CLJS.hK):c:e;if($CLJS.n(d)&&(d=$CLJS.rG($CLJS.yZ,$CLJS.q5.g(a,b)),$CLJS.n(d)&&(e=$CLJS.rG($CLJS.ei,$CLJS.n0.j(a,b,d)),$CLJS.n(e)))){var f=$CLJS.U2(d,e);return $CLJS.n($CLJS.HU($CLJS.kf.g($CLJS.oV,$CLJS.ge(f,$CLJS.o5.g(a,b)))))?new $CLJS.h(null,5,[$CLJS.Us,$CLJS.LK,$CLJS.aj,$CLJS.x6,$CLJS.Ni,c,$CLJS.$E,d,$CLJS.Ek,$CLJS.k0.h(e)],
null):null}return null};
$7=function(a,b,c){var d=$CLJS.O(c);c=$CLJS.J.g(d,$CLJS.Ni);d=$CLJS.J.g(d,$CLJS.nj);if($CLJS.n($CLJS.n(c)?d:c))if(b=$CLJS.z($CLJS.r5.j(a,b,c)),$CLJS.n(b))if(b=$CLJS.L6(b),$CLJS.n(b))if(a=$CLJS.g7(a,c,d),$CLJS.n(a)){var e=$CLJS.O(a);a=$CLJS.J.g(e,$CLJS.EK);var f=$CLJS.J.g(e,$CLJS.HK);e=$CLJS.J.g(e,$CLJS.DD);var k=$CLJS.ED.h(b);k=k instanceof $CLJS.M?k.S:null;switch(k){case "num-bins":case "default":return new $CLJS.h(null,6,[$CLJS.Us,$CLJS.LK,$CLJS.aj,$CLJS.g6,$CLJS.Ni,c,$CLJS.EK,d,$CLJS.HK,d+e,$CLJS.Z5,
new $CLJS.h(null,1,[$CLJS.ED,$CLJS.ei],null)],null);case "bin-width":return new $CLJS.h(null,6,[$CLJS.Us,$CLJS.LK,$CLJS.aj,$CLJS.g6,$CLJS.Ni,c,$CLJS.EK,a,$CLJS.HK,f,$CLJS.Z5,$CLJS.kk.j(b,$CLJS.DD,function(l){return l/10})],null);default:throw Error(["No matching clause: ",$CLJS.p.h(k)].join(""));}}else return null;else return null;else return null;else return null};
Ata=function(a,b,c){c=$CLJS.O(c);var d=$CLJS.J.g(c,$CLJS.B5);b=$CLJS.P_.j(a,b,$CLJS.DV(a,b));a=$CLJS.rG($CLJS.NZ,b);if($CLJS.n(a)&&(b=$CLJS.rG($CLJS.OZ,b),$CLJS.n(b))){var e=function(f){return $CLJS.Ue(function(k){var l=$CLJS.Ni.h(k);l=$CLJS.n($CLJS.Si.h(f))?$CLJS.E.g($CLJS.Si.h(f),$CLJS.Si.h(l)):$CLJS.E.g($CLJS.KY.h(f),$CLJS.KY.h(l));return $CLJS.n(l)?$CLJS.nj.h(k):null},d)};return $CLJS.T.l(c,$CLJS.E7,a,$CLJS.H([$CLJS.F7,b,$CLJS.G7,e(a),$CLJS.D7,e(b)]))}return null};
a8=function(a,b){var c=$CLJS.O(a);a=$CLJS.J.g(c,$CLJS.Ni);var d=$CLJS.J.g(c,$CLJS.nj),e=$CLJS.J.g(c,$CLJS.E7);c=$CLJS.J.g(c,$CLJS.F7);return $CLJS.n(d)?new $CLJS.h(null,7,[$CLJS.Us,$CLJS.LK,$CLJS.aj,$CLJS.E6,$CLJS.G5,$CLJS.U5,$CLJS.Ni,a,$CLJS.nj,d,$CLJS.X5,new $CLJS.h(null,2,[$CLJS.Ni,e,$CLJS.DD,b],null),$CLJS.V5,new $CLJS.h(null,2,[$CLJS.Ni,c,$CLJS.DD,b],null)],null):null};Bta=function(a){a=$CLJS.O(a);var b=$CLJS.J.g(a,$CLJS.Ni);return $CLJS.n(null==b?null:$CLJS.LZ(b))?a8(a,10):null};
Cta=function(a){a=$CLJS.O(a);var b=$CLJS.J.g(a,$CLJS.Ni);return $CLJS.n(null==b?null:$CLJS.KZ(b))?a8(a,1):null};Dta=function(a){a=$CLJS.O(a);var b=$CLJS.J.g(a,$CLJS.Ni);return $CLJS.n(null==b?null:$CLJS.JZ(b))?a8(a,.1):null};
Eta=function(a,b){var c=$CLJS.O(b);b=$CLJS.J.g(c,$CLJS.E7);var d=$CLJS.J.g(c,$CLJS.F7),e=$CLJS.J.g(c,$CLJS.G7);c=$CLJS.J.g(c,$CLJS.D7);if($CLJS.n($CLJS.n(e)?c:e)){var f=$CLJS.g7(a,b,e);if($CLJS.n(f)&&(f=$CLJS.O(f),f=$CLJS.J.g(f,$CLJS.DD),a=$CLJS.g7(a,d,c),$CLJS.n(a))){a=$CLJS.O(a);a=$CLJS.J.g(a,$CLJS.DD);var k=20<=f&&20<=a?new $CLJS.Q(null,2,5,$CLJS.R,[10,10],null):new $CLJS.Q(null,2,5,$CLJS.R,[f/10,a/10],null),l=$CLJS.I(k,0,null);k=$CLJS.I(k,1,null);return new $CLJS.h(null,5,[$CLJS.Us,$CLJS.LK,$CLJS.aj,
$CLJS.E6,$CLJS.G5,$CLJS.y5,$CLJS.X5,new $CLJS.h(null,4,[$CLJS.Ni,b,$CLJS.DD,l,$CLJS.ln,e,$CLJS.Hj,e+f],null),$CLJS.V5,new $CLJS.h(null,4,[$CLJS.Ni,d,$CLJS.DD,k,$CLJS.ln,c,$CLJS.Hj,c+a],null)],null)}}return null};b8=function(a,b,c){c=$CLJS.O(c);var d=$CLJS.J.g(c,$CLJS.nj);if($CLJS.n(d)){var e=Ata(a,b,c);return $CLJS.n(e)?$CLJS.Ue(function(f){return f.h?f.h(e):f.call(null,e)},new $CLJS.Q(null,4,5,$CLJS.R,[Bta,Cta,Dta,$CLJS.Xe(Eta,a)],null)):null}return null};
Fta=function(a,b,c){return $CLJS.z(function(){return function f(e){return new $CLJS.pe(null,function(){for(var k=e;;){var l=$CLJS.y(k);if(l){var m=l,t=$CLJS.z(m);if($CLJS.n(function(){var u=$CLJS.GX(t,$CLJS.lF);return u?$CLJS.c2(t):u}())&&(l=$CLJS.y(function(u,v,x,A){return function K(G){return new $CLJS.pe(null,function(S,X){return function(){for(var ba=G;;)if(ba=$CLJS.y(ba)){if($CLJS.Bd(ba)){var ha=$CLJS.mc(ba),ua=$CLJS.D(ha),Ua=$CLJS.se(ua);return function(){for(var hb=0;;)if(hb<ua){var Ma=$CLJS.ld(ha,
hb),ob=$CLJS.O(Ma);Ma=ob;ob=$CLJS.J.g(ob,$CLJS.Ni);var Ja=$CLJS.x1.g(X,new $CLJS.Q(null,1,5,$CLJS.R,[ob],null));ob=$CLJS.n(Ja)?$CLJS.E.g($CLJS.c2(X),$CLJS.c2(ob)):Ja;$CLJS.n(ob)&&(Ma=$CLJS.T.j(Ma,$CLJS.C5,X),Ua.add(Ma));hb+=1}else return!0}()?$CLJS.ve($CLJS.xe(Ua),K($CLJS.nc(ba))):$CLJS.ve($CLJS.xe(Ua),null)}var Db=$CLJS.z(ba),Qa=Db=$CLJS.O(Db),Xa=$CLJS.J.g(Db,$CLJS.Ni);if($CLJS.n(function(){var hb=$CLJS.x1.g(X,new $CLJS.Q(null,1,5,$CLJS.R,[Xa],null));return $CLJS.n(hb)?$CLJS.E.g($CLJS.c2(X),$CLJS.c2(Xa)):
hb}()))return $CLJS.ge($CLJS.T.j(Qa,$CLJS.C5,X),K($CLJS.Mc(ba)));ba=$CLJS.Mc(ba)}else return null}}(u,v,x,A),null,null)}}(k,t,m,l)(c))))return $CLJS.jf.g(l,f($CLJS.Mc(k)));k=$CLJS.Mc(k)}else return null}},null,null)}($CLJS.o5.g(a,b))}())};
Gta=function(a){a=a instanceof $CLJS.M?a.S:null;switch(a){case "quarter":return $CLJS.LD("See this year by quarter");case "month":return $CLJS.LD("See this quarter by month");case "week":return $CLJS.LD("See this month by week");case "day":return $CLJS.LD("See this week by day");case "hour":return $CLJS.LD("See this day by hour");case "minute":return $CLJS.LD("See this hour by minute");default:throw Error(["No matching clause: ",$CLJS.p.h(a)].join(""));}};
c8=function(a,b,c){c=$CLJS.O(c);c=$CLJS.J.g(c,$CLJS.FK);var d=(d=$CLJS.t5(a,b))?$CLJS.Ie(c):d;return $CLJS.n(d)&&(a=Fta(a,b,c),$CLJS.n(a)&&(a=$CLJS.O(a),b=$CLJS.J.g(a,$CLJS.nj),$CLJS.n(b)))?(b=$CLJS.Ni.h(a),b=$CLJS.k0.h(b),b=$CLJS.n(b)?$CLJS.Jd($CLJS.hh($CLJS.H7),b)?$CLJS.I7.h?$CLJS.I7.h(b):$CLJS.I7.call(null,b):null:null,$CLJS.n(b)?new $CLJS.h(null,5,[$CLJS.Us,$CLJS.LK,$CLJS.nD,Gta(b),$CLJS.aj,$CLJS.C6,$CLJS.EE,a,$CLJS.w6,b],null):null):null};
Hta=function(a){var b=$CLJS.O(a),c=$CLJS.J.g(b,$CLJS.FK);return $CLJS.Ie(function(){return function f(e){return new $CLJS.pe(null,function(){for(;;){var k=$CLJS.y(e);if(k){if($CLJS.Bd(k)){var l=$CLJS.mc(k),m=$CLJS.D(l),t=$CLJS.se(m);a:for(var u=0;;)if(u<m){var v=$CLJS.ld(l,u);v=$CLJS.zk.l($CLJS.H([b,v]));t.add(v);u+=1}else{l=!0;break a}return l?$CLJS.ve($CLJS.xe(t),f($CLJS.nc(k))):$CLJS.ve($CLJS.xe(t),null)}t=$CLJS.z(k);return $CLJS.ge($CLJS.zk.l($CLJS.H([b,t])),f($CLJS.Mc(k)))}return null}},null,
null)}(c)}())};Ita=new $CLJS.r(null,"metabase.lib.drill-thru.pivot","metabase.lib.drill-thru.pivot",109208756,null);Jta=new $CLJS.r(null,"metabase.lib.drill-thru.zoom-in-bins","metabase.lib.drill-thru.zoom-in-bins",477390405,null);Kta=new $CLJS.r("metabase.lib.drill-thru.zoom-in-bins","zoom-in-binning-drill","metabase.lib.drill-thru.zoom-in-bins/zoom-in-binning-drill",-862934837,null);
Lta=new $CLJS.r(null,"metabase.lib.drill-thru.summarize-column-by-time","metabase.lib.drill-thru.summarize-column-by-time",-369504986,null);d8=new $CLJS.r(null,"stage-number","stage-number",-112198111,null);Mta=new $CLJS.r(null,"underlying-records-drill","underlying-records-drill",713740052,null);Nta=new $CLJS.r("metabase.lib.drill-thru.zoom-in-timeseries","zoom-in-timeseries-drill","metabase.lib.drill-thru.zoom-in-timeseries/zoom-in-timeseries-drill",313862423,null);
Ota=new $CLJS.r(null,"zoom-in-timeseries-drill","zoom-in-timeseries-drill",-1304664195,null);Pta=new $CLJS.r(null,"distribution-drill","distribution-drill",-898205041,null);Qta=new $CLJS.r(null,"sort-drill","sort-drill",600387798,null);Rta=new $CLJS.M(null,"drill","drill",-1704624793);Sta=new $CLJS.r("metabase.lib.drill-thru.quick-filter","quick-filter-drill","metabase.lib.drill-thru.quick-filter/quick-filter-drill",457872114,null);e8=new $CLJS.r(null,"_context","_context",-1238791322,null);
Tta=new $CLJS.r(null,"metabase.lib.drill-thru.distribution","metabase.lib.drill-thru.distribution",-514507852,null);Uta=new $CLJS.r(null,"zoom-in-binning-drill","zoom-in-binning-drill",1550598377,null);Vta=new $CLJS.r(null,"metabase.lib.drill-thru.object-details","metabase.lib.drill-thru.object-details",1788168194,null);Wta=new $CLJS.r(null,"automatic-insights-drill","automatic-insights-drill",-538289251,null);
Xta=new $CLJS.r("metabase.lib.drill-thru.zoom-in-geographic","zoom-in-geographic-drill","metabase.lib.drill-thru.zoom-in-geographic/zoom-in-geographic-drill",754461586,null);Yta=new $CLJS.r("metabase.lib.drill-thru.distribution","distribution-drill","metabase.lib.drill-thru.distribution/distribution-drill",-2103693273,null);Zta=new $CLJS.r(null,"fk-filter-drill","fk-filter-drill",-1258190784,null);
$ta=new $CLJS.r(null,"metabase.lib.drill-thru.summarize-column","metabase.lib.drill-thru.summarize-column",490384430,null);aua=new $CLJS.r(null,"pivot-drill","pivot-drill",-1794856768,null);bua=new $CLJS.r(null,"metabase.lib.drill-thru.quick-filter","metabase.lib.drill-thru.quick-filter",671398986,null);cua=new $CLJS.r(null,"metabase.lib.drill-thru.underlying-records","metabase.lib.drill-thru.underlying-records",-827008688,null);
dua=new $CLJS.r("metabase.lib.drill-thru.summarize-column-by-time","summarize-column-by-time-drill","metabase.lib.drill-thru.summarize-column-by-time/summarize-column-by-time-drill",391970943,null);eua=new $CLJS.r(null,"summarize-column-drill","summarize-column-drill",-1961542613,null);fua=new $CLJS.r(null,"column-filter-drill","column-filter-drill",-1088669153,null);
gua=new $CLJS.r("metabase.lib.drill-thru.underlying-records","underlying-records-drill","metabase.lib.drill-thru.underlying-records/underlying-records-drill",1176519262,null);hua=new $CLJS.r(null,"metabase.lib.drill-thru.sort","metabase.lib.drill-thru.sort",961185366,null);iua=new $CLJS.r(null,"metabase.lib.drill-thru.zoom-in-geographic","metabase.lib.drill-thru.zoom-in-geographic",-1562146002,null);f8=new $CLJS.r(null,"dimensions","dimensions",1385713430,null);
g8=new $CLJS.M(null,"return-drills-for-dimensions?","return-drills-for-dimensions?",-1759804348);jua=new $CLJS.r("metabase.lib.drill-thru.column-filter","column-filter-drill","metabase.lib.drill-thru.column-filter/column-filter-drill",-1130871894,null);kua=new $CLJS.r(null,"object-detail-drill","object-detail-drill",-613919053,null);lua=new $CLJS.r(null,"metabase.lib.drill-thru.column-filter","metabase.lib.drill-thru.column-filter",23504270,null);
h8=new $CLJS.r(null,"context","context",810340414,null);mua=new $CLJS.r(null,"zoom-in-geographic-drill","zoom-in-geographic-drill",312914971,null);nua=new $CLJS.r("metabase.lib.drill-thru.automatic-insights","automatic-insights-drill","metabase.lib.drill-thru.automatic-insights/automatic-insights-drill",1471807986,null);oua=new $CLJS.r(null,"summarize-column-by-time-drill","summarize-column-by-time-drill",1117784387,null);
pua=new $CLJS.r("metabase.lib.drill-thru.object-details","object-detail-drill","metabase.lib.drill-thru.object-details/object-detail-drill",-1376576725,null);i8=new $CLJS.r(null,"column-ref","column-ref",-636247393,null);qua=new $CLJS.r("metabase.lib.drill-thru.pivot","pivot-drill","metabase.lib.drill-thru.pivot/pivot-drill",1004065694,null);rua=new $CLJS.r(null,"metabase.lib.drill-thru.fk-filter","metabase.lib.drill-thru.fk-filter",-1939155669,null);
sua=new $CLJS.r("metabase.lib.drill-thru.summarize-column","summarize-column-drill","metabase.lib.drill-thru.summarize-column/summarize-column-drill",-894275347,null);j8=new $CLJS.r(null,"query","query",352022017,null);tua=new $CLJS.r(null,"metabase.lib.drill-thru.zoom-in-timeseries","metabase.lib.drill-thru.zoom-in-timeseries",105846904,null);uua=new $CLJS.r(null,"metabase.lib.drill-thru.automatic-insights","metabase.lib.drill-thru.automatic-insights",912989182,null);
vua=new $CLJS.r("metabase.lib.drill-thru.fk-filter","fk-filter-drill","metabase.lib.drill-thru.fk-filter/fk-filter-drill",-716335012,null);wua=new $CLJS.r("metabase.lib.drill-thru.sort","sort-drill","metabase.lib.drill-thru.sort/sort-drill",2019212116,null);xua=new $CLJS.r(null,"quick-filter-drill","quick-filter-drill",534264366,null);var yua;$CLJS.L_.m(null,$CLJS.LK,function(a,b,c){return $CLJS.w5.j(a,b,c)});
yua=new $CLJS.Q(null,14,5,$CLJS.R,[new $CLJS.h(null,2,[$CLJS.Qr,new $CLJS.Hc(function(){return M7},nua,$CLJS.Kg([$CLJS.Uk,$CLJS.Pi,$CLJS.U,$CLJS.Lj,$CLJS.vi,$CLJS.Ni,$CLJS.bj,$CLJS.Rj,$CLJS.ui,$CLJS.Ij,$CLJS.Kj],[new $CLJS.Q(null,3,5,$CLJS.R,[$CLJS.sn,new $CLJS.Q(null,4,5,$CLJS.R,[$CLJS.Uq,$CLJS.IK,$CLJS.rr,$CLJS.L5],null),new $CLJS.Q(null,2,5,$CLJS.R,[$CLJS.er,$CLJS.a6],null)],null),uua,Wta,"metabase/lib/drill_thru/automatic_insights.cljc",34,1,11,11,$CLJS.V(new $CLJS.Q(null,3,5,$CLJS.R,[j8,d8,new $CLJS.h(null,
1,[$CLJS.lo,new $CLJS.Q(null,4,5,$CLJS.R,[$CLJS.Uy,i8,f8,$CLJS.Oi],null)],null)],null)),'Inputs: [query :- :metabase.lib.schema/query stage-number :- :int {:keys [column column-ref dimensions value]} :- :metabase.lib.schema.drill-thru/context]\n  Return: [:maybe :metabase.lib.schema.drill-thru/drill-thru]\n          \n\n  Automatic insights appears:\n  - When clicking on a value with a breakout - eg. a point in a time series, a cell of a table, a bar or pie slice\n  - Or when clicking a pivot cell, with a value but no column.\n  - Or when clicking a chart legend, in which case there\'s no column or value set.\n  - There must be at least 1 breakout\n  - X-rays must be enabled (check the settings)\n\n  There are two forms: X-ray, and "Compare to the rest". This is a simple user choice and does not need extra data.',
$CLJS.n(M7)?M7.H:null])),g8,!1],null),new $CLJS.h(null,2,[$CLJS.Qr,new $CLJS.Hc(function(){return P7},jua,$CLJS.Kg([$CLJS.Uk,$CLJS.Pi,$CLJS.U,$CLJS.Lj,$CLJS.vi,$CLJS.Ni,$CLJS.bj,$CLJS.Rj,$CLJS.ui,$CLJS.Ij,$CLJS.Kj],[new $CLJS.Q(null,3,5,$CLJS.R,[$CLJS.sn,new $CLJS.Q(null,4,5,$CLJS.R,[$CLJS.Uq,$CLJS.IK,$CLJS.rr,$CLJS.L5],null),new $CLJS.Q(null,2,5,$CLJS.R,[$CLJS.er,$CLJS.O5],null)],null),lua,fua,"metabase/lib/drill_thru/column_filter.cljc",29,1,81,81,$CLJS.V(new $CLJS.Q(null,3,5,$CLJS.R,[j8,d8,new $CLJS.h(null,
1,[$CLJS.lo,new $CLJS.Q(null,2,5,$CLJS.R,[$CLJS.Uy,$CLJS.Oi],null)],null)],null)),'Inputs: [query :- :metabase.lib.schema/query stage-number :- :int {:keys [column value]} :- :metabase.lib.schema.drill-thru/context]\n  Return: [:maybe :metabase.lib.schema.drill-thru/drill-thru.column-filter]\n          \n\n  Filtering at the column level, based on its type. Displays a submenu of eg. "Today", "This Week", etc. for date\n  columns.\n\n  Note that if the clicked column is an aggregation, filtering by it will require a new stage. Therefore this drill\n  returns a possibly-updated `:query` and `:stage-number` along with a `:column` referencing that later stage.',
$CLJS.n(P7)?P7.H:null])),g8,!0],null),new $CLJS.h(null,2,[$CLJS.Qr,new $CLJS.Hc(function(){return Q7},Yta,$CLJS.Kg([$CLJS.Uk,$CLJS.Pi,$CLJS.U,$CLJS.Lj,$CLJS.vi,$CLJS.Ni,$CLJS.bj,$CLJS.Rj,$CLJS.ui,$CLJS.Ij,$CLJS.Kj],[new $CLJS.Q(null,3,5,$CLJS.R,[$CLJS.sn,new $CLJS.Q(null,4,5,$CLJS.R,[$CLJS.Uq,$CLJS.IK,$CLJS.rr,$CLJS.L5],null),new $CLJS.Q(null,2,5,$CLJS.R,[$CLJS.er,$CLJS.F5],null)],null),Tta,Pta,"metabase/lib/drill_thru/distribution.cljc",28,1,42,42,$CLJS.V(new $CLJS.Q(null,3,5,$CLJS.R,[j8,d8,new $CLJS.h(null,
1,[$CLJS.lo,new $CLJS.Q(null,2,5,$CLJS.R,[$CLJS.Uy,$CLJS.Oi],null)],null)],null)),"Inputs: [query :- :metabase.lib.schema/query stage-number :- :int {:keys [column value]} :- :metabase.lib.schema.drill-thru/context]\n  Return: [:maybe :metabase.lib.schema.drill-thru/drill-thru.distribution]\n          \n\n  Select a column and see a histogram of how many rows fall into an automatic set of bins/buckets.\n  - For dates, breaks out by month by default.\n  - For numeric values, by an auto-selected set of bins\n  - For strings, by each distinct value (which might be \x3d the number of rows)",
$CLJS.n(Q7)?Q7.H:null])),g8,!0],null),new $CLJS.h(null,2,[$CLJS.Qr,new $CLJS.Hc(function(){return R7},vua,$CLJS.Kg([$CLJS.Uk,$CLJS.Pi,$CLJS.U,$CLJS.Lj,$CLJS.vi,$CLJS.Ni,$CLJS.bj,$CLJS.Rj,$CLJS.ui,$CLJS.Ij,$CLJS.Kj],[new $CLJS.Q(null,3,5,$CLJS.R,[$CLJS.sn,new $CLJS.Q(null,4,5,$CLJS.R,[$CLJS.Uq,$CLJS.IK,$CLJS.rr,$CLJS.L5],null),new $CLJS.Q(null,2,5,$CLJS.R,[$CLJS.er,$CLJS.u6],null)],null),rua,Zta,"metabase/lib/drill_thru/fk_filter.cljc",25,1,36,36,$CLJS.V(new $CLJS.Q(null,3,5,$CLJS.R,[j8,d8,new $CLJS.h(null,
2,[$CLJS.lo,new $CLJS.Q(null,2,5,$CLJS.R,[$CLJS.Uy,$CLJS.Oi],null),$CLJS.Wr,e8],null)],null)),"Inputs: [query :- :metabase.lib.schema/query stage-number :- :int {:keys [column value], :as _context} :- :metabase.lib.schema.drill-thru/context]\n  Return: [:maybe :metabase.lib.schema.drill-thru/drill-thru.fk-filter]\n          \n\n  When clicking on a foreign key value, filter this query by that column.\n\n  This has the same effect as the `\x3d` filter on a generic field (ie. not a key), but renders differently.\n\n  Contrast [[metabase.lib.drill-thru.object-details/object-detail-drill]], which shows the details of the foreign\n  object.",
$CLJS.n(R7)?R7.H:null])),g8,!1],null),new $CLJS.h(null,2,[$CLJS.Qr,new $CLJS.Hc(function(){return S7},pua,$CLJS.Kg([$CLJS.Uk,$CLJS.Pi,$CLJS.U,$CLJS.Lj,$CLJS.vi,$CLJS.Ni,$CLJS.bj,$CLJS.Rj,$CLJS.ui,$CLJS.Ij,$CLJS.Kj],[new $CLJS.Q(null,3,5,$CLJS.R,[$CLJS.sn,new $CLJS.Q(null,4,5,$CLJS.R,[$CLJS.Uq,$CLJS.IK,$CLJS.rr,$CLJS.L5],null),new $CLJS.Q(null,2,5,$CLJS.R,[$CLJS.er,new $CLJS.Q(null,4,5,$CLJS.R,[$CLJS.fr,$CLJS.z5,$CLJS.v6,$CLJS.k6],null)],null)],null),Vta,kua,"metabase/lib/drill_thru/object_details.cljc",
29,1,10,10,$CLJS.V(new $CLJS.Q(null,3,5,$CLJS.R,[j8,d8,h8],null)),"Inputs: [query :- :metabase.lib.schema/query stage-number :- :int context :- :metabase.lib.schema.drill-thru/context]\n  Return: [:maybe\n           [:or\n            :metabase.lib.schema.drill-thru/drill-thru.pk\n            :metabase.lib.schema.drill-thru/drill-thru.zoom\n            :metabase.lib.schema.drill-thru/drill-thru.fk-details]]\n          \n\n  When clicking a foreign key or primary key value, drill through to the details for that specific object.\n\n  Contrast [[metabase.lib.drill-thru.fk-filter/fk-filter-drill]], which filters this query to only those rows with a\n  specific value for a FK column.",
$CLJS.n(S7)?S7.H:null])),g8,!1],null),new $CLJS.h(null,2,[$CLJS.Qr,new $CLJS.Hc(function(){return U7},qua,$CLJS.Kg([$CLJS.Uk,$CLJS.Pi,$CLJS.U,$CLJS.Lj,$CLJS.vi,$CLJS.Ni,$CLJS.bj,$CLJS.Rj,$CLJS.ui,$CLJS.Ij,$CLJS.Kj],[new $CLJS.Q(null,3,5,$CLJS.R,[$CLJS.sn,new $CLJS.Q(null,4,5,$CLJS.R,[$CLJS.Uq,$CLJS.IK,$CLJS.rr,$CLJS.L5],null),new $CLJS.Q(null,2,5,$CLJS.R,[$CLJS.er,$CLJS.J5],null)],null),Ita,aua,"metabase/lib/drill_thru/pivot.cljc",21,1,120,120,$CLJS.V(new $CLJS.Q(null,3,5,$CLJS.R,[j8,d8,new $CLJS.h(null,
2,[$CLJS.lo,new $CLJS.Q(null,3,5,$CLJS.R,[$CLJS.Uy,f8,$CLJS.Oi],null),$CLJS.Wr,h8],null)],null)),"Inputs: [query :- :metabase.lib.schema/query stage-number :- :int {:keys [column dimensions value], :as context} :- :metabase.lib.schema.drill-thru/context]\n  Return: [:maybe :metabase.lib.schema.drill-thru/drill-thru.pivot]\n          \n\n  Return all possible pivoting options on the given column and value.\n\n  See `:pivots` key, which holds a map `{t [breakouts...]}` where `t` is `:category`, `:location`, or `:time`.\n  If a key is missing, there are no breakouts of that kind.",
$CLJS.n(U7)?U7.H:null])),g8,!1],null),new $CLJS.h(null,2,[$CLJS.Qr,new $CLJS.Hc(function(){return W7},Sta,$CLJS.Kg([$CLJS.Uk,$CLJS.Pi,$CLJS.U,$CLJS.Lj,$CLJS.vi,$CLJS.Ni,$CLJS.bj,$CLJS.Rj,$CLJS.ui,$CLJS.Ij,$CLJS.Kj],[new $CLJS.Q(null,3,5,$CLJS.R,[$CLJS.sn,new $CLJS.Q(null,4,5,$CLJS.R,[$CLJS.Uq,$CLJS.IK,$CLJS.rr,$CLJS.L5],null),new $CLJS.Q(null,2,5,$CLJS.R,[$CLJS.er,$CLJS.l6],null)],null),bua,xua,"metabase/lib/drill_thru/quick_filter.cljc",28,1,90,90,$CLJS.V(new $CLJS.Q(null,3,5,$CLJS.R,[j8,d8,new $CLJS.h(null,
2,[$CLJS.lo,new $CLJS.Q(null,2,5,$CLJS.R,[$CLJS.Uy,$CLJS.Oi],null),$CLJS.Wr,e8],null)],null)),"Inputs: [query :- :metabase.lib.schema/query stage-number :- :int {:keys [column value], :as _context} :- :metabase.lib.schema.drill-thru/context]\n  Return: [:maybe :metabase.lib.schema.drill-thru/drill-thru.quick-filter]\n          \n\n  Filter the current query based on the value clicked.\n\n  The options vary depending on the type of the field:\n  - `:is-null` and `:not-null` for a `NULL` value;\n  - `:\x3d` and `:!\x3d` for everything else;\n  - plus `:\x3c` and `:\x3e` for numeric and date columns.\n\n  Note that this returns a single `::drill-thru` value with 1 or more `:operators`; these are rendered as a set of small\n  buttons in a single row of the drop-down.",
$CLJS.n(W7)?W7.H:null])),g8,!1],null),new $CLJS.h(null,2,[$CLJS.Qr,new $CLJS.Hc(function(){return X7},wua,$CLJS.Kg([$CLJS.Uk,$CLJS.Pi,$CLJS.U,$CLJS.Lj,$CLJS.vi,$CLJS.Ni,$CLJS.bj,$CLJS.Rj,$CLJS.ui,$CLJS.Ij,$CLJS.Kj],[new $CLJS.Q(null,3,5,$CLJS.R,[$CLJS.sn,new $CLJS.Q(null,4,5,$CLJS.R,[$CLJS.Uq,$CLJS.IK,$CLJS.rr,$CLJS.L5],null),new $CLJS.Q(null,2,5,$CLJS.R,[$CLJS.er,$CLJS.F6],null)],null),hua,Qta,"metabase/lib/drill_thru/sort.cljc",20,1,53,53,$CLJS.V(new $CLJS.Q(null,3,5,$CLJS.R,[j8,d8,new $CLJS.h(null,
2,[$CLJS.lo,new $CLJS.Q(null,2,5,$CLJS.R,[$CLJS.Uy,$CLJS.Oi],null),$CLJS.Wr,e8],null)],null)),"Inputs: [query :- :metabase.lib.schema/query stage-number :- :int {:keys [column value], :as _context} :- :metabase.lib.schema.drill-thru/context]\n  Return: [:maybe :metabase.lib.schema.drill-thru/drill-thru.sort]\n          \n\n  Sorting on a clicked column.",$CLJS.n(X7)?X7.H:null])),g8,!0],null),new $CLJS.h(null,2,[$CLJS.Qr,new $CLJS.Hc(function(){return Y7},sua,$CLJS.Kg([$CLJS.Uk,$CLJS.Pi,$CLJS.U,$CLJS.Lj,
$CLJS.vi,$CLJS.Ni,$CLJS.bj,$CLJS.Rj,$CLJS.ui,$CLJS.Ij,$CLJS.Kj],[new $CLJS.Q(null,3,5,$CLJS.R,[$CLJS.sn,new $CLJS.Q(null,4,5,$CLJS.R,[$CLJS.Uq,$CLJS.IK,$CLJS.rr,$CLJS.L5],null),new $CLJS.Q(null,2,5,$CLJS.R,[$CLJS.er,$CLJS.R5],null)],null),$ta,eua,"metabase/lib/drill_thru/summarize_column.cljc",32,1,31,31,$CLJS.V(new $CLJS.Q(null,3,5,$CLJS.R,[j8,d8,new $CLJS.h(null,1,[$CLJS.lo,new $CLJS.Q(null,2,5,$CLJS.R,[$CLJS.Uy,$CLJS.Oi],null)],null)],null)),"Inputs: [query :- :metabase.lib.schema/query stage-number :- :int {:keys [column value]} :- :metabase.lib.schema.drill-thru/context]\n  Return: [:maybe :metabase.lib.schema.drill-thru/drill-thru.summarize-column]\n          \n\n  A set of possible aggregations that can summarize this column: distinct values, sum, average.\n  Separate from [[summarize-column-by-time-drill]] which breaks out a column over time.",
$CLJS.n(Y7)?Y7.H:null])),g8,!0],null),new $CLJS.h(null,2,[$CLJS.Qr,new $CLJS.Hc(function(){return Z7},dua,$CLJS.Kg([$CLJS.Uk,$CLJS.Pi,$CLJS.U,$CLJS.Lj,$CLJS.vi,$CLJS.Ni,$CLJS.bj,$CLJS.Rj,$CLJS.ui,$CLJS.Ij,$CLJS.Kj],[new $CLJS.Q(null,3,5,$CLJS.R,[$CLJS.sn,new $CLJS.Q(null,4,5,$CLJS.R,[$CLJS.Uq,$CLJS.IK,$CLJS.rr,$CLJS.L5],null),new $CLJS.Q(null,2,5,$CLJS.R,[$CLJS.er,$CLJS.P5],null)],null),Lta,oua,"metabase/lib/drill_thru/summarize_column_by_time.cljc",40,1,40,40,$CLJS.V(new $CLJS.Q(null,3,5,$CLJS.R,
[j8,d8,new $CLJS.h(null,1,[$CLJS.lo,new $CLJS.Q(null,2,5,$CLJS.R,[$CLJS.Uy,$CLJS.Oi],null)],null)],null)),"Inputs: [query :- :metabase.lib.schema/query stage-number :- :int {:keys [column value]} :- :metabase.lib.schema.drill-thru/context]\n  Return: [:maybe :metabase.lib.schema.drill-thru/drill-thru.summarize-column-by-time]\n          \n\n  A breakout summarizing a column over time.\n  Separate from single-value [[summarize-column-drill]] for sum, average, and distinct value count.",$CLJS.n(Z7)?
Z7.H:null])),g8,!0],null),new $CLJS.h(null,2,[$CLJS.Qr,new $CLJS.Hc(function(){return L7},gua,$CLJS.Kg([$CLJS.Uk,$CLJS.Pi,$CLJS.U,$CLJS.Lj,$CLJS.vi,$CLJS.Ni,$CLJS.bj,$CLJS.Rj,$CLJS.ui,$CLJS.Ij,$CLJS.Kj],[new $CLJS.Q(null,3,5,$CLJS.R,[$CLJS.sn,new $CLJS.Q(null,4,5,$CLJS.R,[$CLJS.Uq,$CLJS.IK,$CLJS.rr,$CLJS.L5],null),new $CLJS.Q(null,2,5,$CLJS.R,[$CLJS.er,$CLJS.D6],null)],null),cua,Mta,"metabase/lib/drill_thru/underlying_records.cljc",34,1,51,51,$CLJS.V(new $CLJS.Q(null,3,5,$CLJS.R,[j8,d8,new $CLJS.h(null,
2,[$CLJS.lo,new $CLJS.Q(null,4,5,$CLJS.R,[$CLJS.Uy,i8,f8,$CLJS.Oi],null),$CLJS.Wr,e8],null)],null)),"Inputs: [query :- :metabase.lib.schema/query stage-number :- :int {:keys [column column-ref dimensions value], :as _context} :- :metabase.lib.schema.drill-thru/context]\n  Return: [:maybe :metabase.lib.schema.drill-thru/drill-thru.underlying-records]\n          \n\n  When clicking on a particular broken-out group, offer a look at the details of all the rows that went into this\n  bucket. Eg. distribution of People by State, then click New York and see the table of all People filtered by\n  `STATE \x3d 'New York'`.\n\n  There is another quite different case: clicking the legend of a chart with multiple bars or lines broken out by\n  category. Then `column` is nil!",
$CLJS.n(L7)?L7.H:null])),g8,!1],null),new $CLJS.h(null,2,[$CLJS.Qr,new $CLJS.Hc(function(){return c8},Nta,$CLJS.Kg([$CLJS.Uk,$CLJS.Pi,$CLJS.U,$CLJS.Lj,$CLJS.vi,$CLJS.Ni,$CLJS.bj,$CLJS.Rj,$CLJS.ui,$CLJS.Ij,$CLJS.Kj],[new $CLJS.Q(null,3,5,$CLJS.R,[$CLJS.sn,new $CLJS.Q(null,4,5,$CLJS.R,[$CLJS.Uq,$CLJS.IK,$CLJS.rr,$CLJS.L5],null),new $CLJS.Q(null,2,5,$CLJS.R,[$CLJS.er,$CLJS.y6],null)],null),tua,Ota,"metabase/lib/drill_thru/zoom_in_timeseries.cljc",34,1,89,89,$CLJS.V(new $CLJS.Q(null,3,5,$CLJS.R,[j8,d8,
new $CLJS.h(null,2,[$CLJS.lo,new $CLJS.Q(null,1,5,$CLJS.R,[f8],null),$CLJS.Wr,e8],null)],null)),"Inputs: [query :- :metabase.lib.schema/query stage-number :- :int {:keys [dimensions], :as _context} :- :metabase.lib.schema.drill-thru/context]\n  Return: [:maybe :metabase.lib.schema.drill-thru/drill-thru.zoom-in.timeseries]\n          \n\n  Zooms in on some window, showing it in finer detail.\n\n  For example: The month of a year, days or weeks of a quarter, smaller lat/long regions, etc.\n\n  This is different from the `:drill-thru/zoom` type, which is for showing the details of a single object.",
$CLJS.n(c8)?c8.H:null])),g8,!1],null),new $CLJS.h(null,2,[$CLJS.Qr,new $CLJS.Hc(function(){return b8},Xta,$CLJS.Kg([$CLJS.Uk,$CLJS.Pi,$CLJS.U,$CLJS.Lj,$CLJS.vi,$CLJS.Ni,$CLJS.bj,$CLJS.Rj,$CLJS.ui,$CLJS.Ij,$CLJS.Kj],[new $CLJS.Q(null,3,5,$CLJS.R,[$CLJS.sn,new $CLJS.Q(null,4,5,$CLJS.R,[$CLJS.Uq,$CLJS.IK,$CLJS.rr,$CLJS.L5],null),new $CLJS.Q(null,2,5,$CLJS.R,[$CLJS.er,$CLJS.z6],null)],null),iua,mua,"metabase/lib/drill_thru/zoom_in_geographic.cljc",34,1,182,182,$CLJS.V(new $CLJS.Q(null,3,5,$CLJS.R,[j8,
d8,new $CLJS.h(null,2,[$CLJS.lo,new $CLJS.Q(null,1,5,$CLJS.R,[$CLJS.Oi],null),$CLJS.Wr,h8],null)],null)),"Inputs: [query :- :metabase.lib.schema/query stage-number :- :int {:keys [value], :as context} :- :metabase.lib.schema.drill-thru/context]\n  Return: [:maybe :metabase.lib.schema.drill-thru/drill-thru.zoom-in.geographic]\n          \n\n  Return a `:drill-thru/zoom-in.geographic` drill if appropriate. See docstring\n  for [[metabase.lib.drill-thru.zoom-in-geographic]] for more information on what circumstances this is returned in\n  and what it means to apply this drill.",
$CLJS.n(b8)?b8.H:null])),g8,!0],null),new $CLJS.h(null,2,[$CLJS.Qr,new $CLJS.Hc(function(){return $7},Kta,$CLJS.Kg([$CLJS.Uk,$CLJS.Pi,$CLJS.U,$CLJS.Lj,$CLJS.vi,$CLJS.Ni,$CLJS.bj,$CLJS.Rj,$CLJS.ui,$CLJS.Ij,$CLJS.Kj],[new $CLJS.Q(null,3,5,$CLJS.R,[$CLJS.sn,new $CLJS.Q(null,4,5,$CLJS.R,[$CLJS.Uq,$CLJS.IK,$CLJS.rr,$CLJS.L5],null),new $CLJS.Q(null,2,5,$CLJS.R,[$CLJS.er,$CLJS.B6],null)],null),Jta,Uta,"metabase/lib/drill_thru/zoom_in_bins.cljc",31,1,86,86,$CLJS.V(new $CLJS.Q(null,3,5,$CLJS.R,[j8,d8,new $CLJS.h(null,
2,[$CLJS.lo,new $CLJS.Q(null,2,5,$CLJS.R,[$CLJS.Uy,$CLJS.Oi],null),$CLJS.Wr,e8],null)],null)),"Inputs: [query :- :metabase.lib.schema/query stage-number :- :int {:keys [column value], :as _context} :- :metabase.lib.schema.drill-thru/context]\n  Return: [:maybe :metabase.lib.schema.drill-thru/drill-thru.zoom-in.binning]\n          \n\n  Return a drill thru that 'zooms in' on a breakout that uses `:binning` if applicable.\n  See [[metabase.lib.drill-thru.zoom-in-bins]] docstring for more information.",
$CLJS.n($7)?$7.H:null])),g8,!0],null)],null);
$CLJS.zua=function(){function a(d,e,f){try{return $CLJS.gg.g($CLJS.Ef,sta(d)?function(){var l=Hta(f);return function u(t){return new $CLJS.pe(null,function(){for(var v=t;;){var x=$CLJS.y(v);if(x){var A=x,C=$CLJS.z(A),G=$CLJS.O(C),K=$CLJS.J.g(G,$CLJS.Qr),S=$CLJS.J.g(G,g8);if(x=$CLJS.y(function(X,ba,ha,ua,Ua,Db,Qa,Xa){return function ob(Ma){return new $CLJS.pe(null,function(Ja,fc,$d,Id){return function(){for(var sd=Ma;;)if(sd=$CLJS.y(sd)){if($CLJS.Bd(sd)){var Il=$CLJS.mc(sd),G9=$CLJS.D(Il),Ap=$CLJS.se(G9);
a:for(var aR=0;;)if(aR<G9){var RB=$CLJS.ld(Il,aR);RB=Id.j?Id.j(d,e,RB):Id.call(null,d,e,RB);$CLJS.n(RB)&&Ap.add(RB);aR+=1}else{Il=!0;break a}return Il?$CLJS.ve($CLJS.xe(Ap),ob($CLJS.nc(sd))):$CLJS.ve($CLJS.xe(Ap),null)}Ap=$CLJS.z(sd);Ap=Id.j?Id.j(d,e,Ap):Id.call(null,d,e,Ap);if($CLJS.n(Ap))return $CLJS.ge(Ap,ob($CLJS.Mc(sd)));sd=$CLJS.Mc(sd)}else return null}}(X,ba,ha,ua,Ua,Db,Qa,Xa),null,null)}}(v,C,G,K,S,A,x,l)($CLJS.n(function(){var X=S;return $CLJS.n(X)?l:X}())?l:new $CLJS.Q(null,1,5,$CLJS.R,
[f],null))))return $CLJS.jf.g(x,u($CLJS.Mc(v)));v=$CLJS.Mc(v)}else return null}},null,null)}(yua)}():null)}catch(l){var k=l;throw $CLJS.ii(["Error getting available drill thrus for query: ",$CLJS.p.h($CLJS.qU(k))].join(""),new $CLJS.h(null,3,[$CLJS.HE,d,$CLJS.CK,e,$CLJS.nM,f],null),k);}}function b(d,e){return c.j?c.j(d,-1,e):c.call(null,d,-1,e)}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+arguments.length);
};c.g=b;c.j=a;return c}();
$CLJS.Aua=function(){function a(d,e){return b.j?b.j(d,-1,e):b.call(null,d,-1,e)}var b=null,c=function(){function d(f,k,l,m){var t=null;if(3<arguments.length){t=0;for(var u=Array(arguments.length-3);t<u.length;)u[t]=arguments[t+3],++t;t=new $CLJS.w(u,0,null)}return e.call(this,f,k,l,t)}function e(f,k,l,m){var t=$CLJS.Gz($CLJS.wx);$CLJS.n($CLJS.Fz("metabase.lib.drill-thru",t))&&$CLJS.Ez("metabase.lib.drill-thru",t,$CLJS.sV("Applying drill thru: %s",$CLJS.H([$CLJS.tV(new $CLJS.h(null,4,[$CLJS.HE,f,$CLJS.CK,
k,Rta,l,$CLJS.Kr,m],null))])),null);return $CLJS.P.M($CLJS.v5,f,k,l,m)}d.A=3;d.B=function(f){var k=$CLJS.z(f);f=$CLJS.B(f);var l=$CLJS.z(f);f=$CLJS.B(f);var m=$CLJS.z(f);f=$CLJS.Mc(f);return e(k,l,m,f)};d.l=e;return d}();b=function(d,e,f,k){switch(arguments.length){case 2:return a.call(this,d,e);default:var l=null;if(3<arguments.length){l=0;for(var m=Array(arguments.length-3);l<m.length;)m[l]=arguments[l+3],++l;l=new $CLJS.w(m,0,null)}return c.l(d,e,f,l)}throw Error("Invalid arity: "+arguments.length);
};b.A=3;b.B=c.B;b.g=a;b.l=c.l;return b}();