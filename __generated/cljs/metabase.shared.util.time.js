var window=global;var $CLJS=require("./cljs_env.js");require("./cljs.core.js");require("./metabase.shared.util.internal.time.js");require("./metabase.shared.util.internal.time_common.js");require("./metabase.shared.util.namespaces.js");require("./metabase.util.js");
'use strict';var Koa,Loa,Moa,$_,a0,Noa,Ooa,c0,d0,Poa;$CLJS.Z_=function(a){var b=$CLJS.id($CLJS.ph($CLJS.rh(["(.*?)",$CLJS.mH($CLJS.H([$CLJS.sH])),"$"].join("")),a));return $CLJS.n(b)?b:a};Koa=function(a,b){return a.isSame(b,"day")};Loa=function(a,b){return a.isSame(b,"month")};Moa=function(a,b){return a.isSame(b,"year")};
$_=function(a){return $CLJS.Ue(function(b){var c=$CLJS.I(b,0,null);b=$CLJS.I(b,1,null);var d=$CLJS.O(b);b=$CLJS.J.g(d,$CLJS.Mk);d=$CLJS.J.g(d,$CLJS.W_);return $CLJS.n($CLJS.ph(b,a))?(b=$CLJS.MH.parseZone(a,d,!0),$CLJS.n(b.isValid())?new $CLJS.Q(null,2,5,$CLJS.R,[b,c],null):null):null},$CLJS.Joa)};a0=function(a,b,c){b="string"===typeof b?$CLJS.z($_(b)):b;return("string"===typeof c?$CLJS.z($_(c)):c).diff(b,$CLJS.ih(a))};Noa=function(a,b){return a0.j?a0.j($CLJS.Qk,a,b):a0.call(null,$CLJS.Qk,a,b)};
$CLJS.b0=function(a){if($CLJS.n($CLJS.MH.isMoment(a)))return a;if("string"===typeof a)return(0,$CLJS.MH)($CLJS.Z_(a),Ooa);throw $CLJS.ji("Unknown input to coerce-to-time; expecting a string",new $CLJS.h(null,1,[$CLJS.nj,a],null));};Ooa=["HH:mm:ss.SSS[Z]","HH:mm:ss.SSS","HH:mm:ss","HH:mm"];c0=function c0(a,b){if("string"===typeof a){var d=$_(a);a=$CLJS.I(d,0,null);d=$CLJS.I(d,1,null);b=c0.g?c0.g(a,b):c0.call(null,a,b);return $CLJS.Y_.h(new $CLJS.Q(null,2,5,$CLJS.R,[b,d],null))}return a.startOf($CLJS.ih(b))};
d0=function d0(a,b,c){if("string"===typeof a){var e=$_(a);a=$CLJS.I(e,0,null);e=$CLJS.I(e,1,null);b=d0.j?d0.j(a,b,c):d0.call(null,a,b,c);return $CLJS.Y_.h(new $CLJS.Q(null,2,5,$CLJS.R,[b,e],null))}return a.add(c,$CLJS.ih(b))};Poa=new $CLJS.M(null,"local","local",-1497766724);$CLJS.e0=function(){function a(c){var d=null;if(0<arguments.length){d=0;for(var e=Array(arguments.length-0);d<e.length;)e[d]=arguments[d+0],++d;d=new $CLJS.w(e,0,null)}return b.call(this,d)}function b(c){return $CLJS.P.g($CLJS.nH,c)}a.A=0;a.B=function(c){c=$CLJS.y(c);return b(c)};a.l=b;return a}();
$CLJS.f0=function(){function a(c){var d=null;if(0<arguments.length){d=0;for(var e=Array(arguments.length-0);d<e.length;)e[d]=arguments[d+0],++d;d=new $CLJS.w(e,0,null)}return b.call(this,d)}function b(c){return $CLJS.P.g($CLJS.R_,c)}a.A=0;a.B=function(c){c=$CLJS.y(c);return b(c)};a.l=b;return a}();
$CLJS.Qoa=function(){function a(c){var d=null;if(0<arguments.length){d=0;for(var e=Array(arguments.length-0);d<e.length;)e[d]=arguments[d+0],++d;d=new $CLJS.w(e,0,null)}return b.call(this,d)}function b(c){return $CLJS.P.g(Koa,c)}a.A=0;a.B=function(c){c=$CLJS.y(c);return b(c)};a.l=b;return a}();
$CLJS.Roa=function(){function a(c){var d=null;if(0<arguments.length){d=0;for(var e=Array(arguments.length-0);d<e.length;)e[d]=arguments[d+0],++d;d=new $CLJS.w(e,0,null)}return b.call(this,d)}function b(c){return $CLJS.P.g(Loa,c)}a.A=0;a.B=function(c){c=$CLJS.y(c);return b(c)};a.l=b;return a}();
$CLJS.Soa=function(){function a(c){var d=null;if(0<arguments.length){d=0;for(var e=Array(arguments.length-0);d<e.length;)e[d]=arguments[d+0],++d;d=new $CLJS.w(e,0,null)}return b.call(this,d)}function b(c){return $CLJS.P.g(Moa,c)}a.A=0;a.B=function(c){c=$CLJS.y(c);return b(c)};a.l=b;return a}();
$CLJS.Toa=function(){function a(c){var d=null;if(0<arguments.length){d=0;for(var e=Array(arguments.length-0);d<e.length;)e[d]=arguments[d+0],++d;d=new $CLJS.w(e,0,null)}return b.call(this,d)}function b(c){return $CLJS.P.g(Noa,c)}a.A=0;a.B=function(c){c=$CLJS.y(c);return b(c)};a.l=b;return a}();
$CLJS.Uoa=function(){function a(c){var d=null;if(0<arguments.length){d=0;for(var e=Array(arguments.length-0);d<e.length;)e[d]=arguments[d+0],++d;d=new $CLJS.w(e,0,null)}return b.call(this,d)}function b(c){return $CLJS.P.g(a0,c)}a.A=0;a.B=function(c){c=$CLJS.y(c);return b(c)};a.l=b;return a}();
$CLJS.g0=function(){function a(c){var d=null;if(0<arguments.length){d=0;for(var e=Array(arguments.length-0);d<e.length;)e[d]=arguments[d+0],++d;d=new $CLJS.w(e,0,null)}return b.call(this,d)}function b(c){return $CLJS.P.g(c0,c)}a.A=0;a.B=function(c){c=$CLJS.y(c);return b(c)};a.l=b;return a}();
$CLJS.Voa=function(){function a(c){var d=null;if(0<arguments.length){d=0;for(var e=Array(arguments.length-0);d<e.length;)e[d]=arguments[d+0],++d;d=new $CLJS.w(e,0,null)}return b.call(this,d)}function b(c){return $CLJS.P.g(d0,c)}a.A=0;a.B=function(c){c=$CLJS.y(c);return b(c)};a.l=b;return a}();$CLJS.h0=function h0(a){switch(arguments.length){case 1:return h0.h(arguments[0]);case 2:return h0.g(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$CLJS.p.h(arguments.length)].join(""));}};
$CLJS.Aa("metabase.shared.util.time.coerce_to_timestamp",$CLJS.h0);$CLJS.h0.h=function(a){return $CLJS.h0.g(a,$CLJS.N)};$CLJS.h0.g=function(a,b){b=$CLJS.zk.l($CLJS.H([$CLJS.N,$CLJS.$z(b)]));if(!$CLJS.n($CLJS.Q_(a))){var c=(c="string"===typeof a)?$CLJS.ph(/.*(Z|[+-]\d\d:?\d\d)$/,a):c;a=$CLJS.n(c)?$CLJS.MH.parseZone(a):"string"===typeof a?$CLJS.oH.g(a,b):$CLJS.pH.g(a,b)}return $CLJS.n(Poa.h(b))?a.local():a};$CLJS.h0.A=2;module.exports={coerce_to_timestamp:$CLJS.h0,coerce_to_time:$CLJS.b0};